<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Recontact and Tracking Reports • crunchtabs</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Recontact and Tracking Reports">
<meta property="og:description" content="crunchtabs">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">crunchtabs</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Codebooks.html">Generating Codebooks</a>
    </li>
    <li>
      <a href="../articles/FAQ.html">Frequently Asked Questions</a>
    </li>
    <li>
      <a href="../articles/Overview.html">Introduction and Overview</a>
    </li>
    <li>
      <a href="../articles/Theming.html">Theming</a>
    </li>
    <li>
      <a href="../articles/Tracking-Recontact-Reports.html">Recontact and Tracking Reports</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Crunch-io/crunchtabs/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Tracking-Recontact-Reports_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Recontact and Tracking Reports</h1>
            
            <h4 class="date">2021-01-14</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/Crunch-io/crunchtabs/blob/master/vignettes/Tracking-Recontact-Reports.Rmd"><code>vignettes/Tracking-Recontact-Reports.Rmd</code></a></small>
      <div class="hidden name"><code>Tracking-Recontact-Reports.Rmd</code></div>

    </div>

    
    
<div id="reporting-over-time" class="section level2">
<h2 class="hasAnchor">
<a href="#reporting-over-time" class="anchor"></a>Reporting Over Time</h2>
<p><code>crunchtabs</code> supports two distinct forms of tracking reports. A recontact report, where the same questions have been asked in the same dataset over time and require individual weighting. An example of this would be a political survey, where we ask about voter intention before and after a debate. The second, is a tracking report, where the same questions have been asked in different datasets and require individual weighting.</p>
<p>By default, both of these functions will allow you to present variables that you have included in your specification that do not exist across datasets.</p>
<div id="generating-a-recontact-report" class="section level3">
<h3 class="hasAnchor">
<a href="#generating-a-recontact-report" class="anchor"></a>Generating a Recontact Report</h3>
<p>In the code below, we use the crunch example dataset to illustrate the setup required for recontact style reporting. There are a few important assumptions about the naming and setup of your data that are critical to the success of this function:</p>
<ol style="list-style-type: decimal">
<li>Your “pre” and “post” waves questions should both have the same categories.</li>
<li>Your “pre” and “post” waves question names should be equal, with different suffixes, such as: question_pre and question_post.</li>
</ol>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Crunch-io/crunchtabs">crunchtabs</a></span><span class="op">)</span>
<span class="fu">login</span><span class="op">(</span><span class="op">)</span>

<span class="co"># Create an example dataset</span>
<span class="va">ds</span> <span class="op">&lt;-</span> <span class="fu">newExampleDataset</span><span class="op">(</span><span class="op">)</span>
<span class="va">ds</span> <span class="op">&lt;-</span> <span class="fu">loadDataset</span><span class="op">(</span><span class="st">"Example dataset"</span><span class="op">)</span>

<span class="co"># Generate weights</span>
<span class="va">ds</span><span class="op">$</span><span class="va">weight1</span> <span class="op">&lt;-</span> <span class="fu">makeWeight</span><span class="op">(</span><span class="va">ds</span><span class="op">$</span><span class="va">q1</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.3</span>,<span class="fl">0.3</span>,<span class="fl">0.4</span>,<span class="fl">0</span><span class="op">)</span>, name <span class="op">=</span> <span class="st">'weight1'</span><span class="op">)</span>
<span class="va">ds</span><span class="op">$</span><span class="va">weight2</span> <span class="op">&lt;-</span> <span class="fu">makeWeight</span><span class="op">(</span><span class="va">ds</span><span class="op">$</span><span class="va">q1</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.4</span>,<span class="fl">0.4</span>,<span class="fl">0.1</span>,<span class="fl">0.1</span><span class="op">)</span>, name <span class="op">=</span> <span class="st">'weight2'</span><span class="op">)</span>

<span class="co"># Oddity of crunch, you can't use a weight in a tabBook that</span>
<span class="co"># has never been applied to the dataset. </span>
<span class="fu">weight</span><span class="op">(</span><span class="va">ds</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">ds</span><span class="op">$</span><span class="va">weight1</span>
<span class="fu">weight</span><span class="op">(</span><span class="va">ds</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">ds</span><span class="op">$</span><span class="va">weight2</span>
<span class="fu">weight</span><span class="op">(</span><span class="va">ds</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">ds</span><span class="op">$</span><span class="va">weight1</span>

<span class="co"># Fake pre and post questions</span>
<span class="va">ds</span><span class="op">$</span><span class="va">q1_pre</span> <span class="op">&lt;-</span> <span class="fu">copyVariable</span><span class="op">(</span><span class="va">ds</span><span class="op">$</span><span class="va">q1</span>, deep <span class="op">=</span> <span class="cn">TRUE</span>, name <span class="op">=</span> <span class="st">"Pet name pre"</span><span class="op">)</span>
<span class="va">ds</span><span class="op">$</span><span class="va">q1_post</span> <span class="op">&lt;-</span> <span class="fu">copyVariable</span><span class="op">(</span><span class="va">ds</span><span class="op">$</span><span class="va">q1</span>, deep <span class="op">=</span> <span class="cn">TRUE</span>, name <span class="op">=</span> <span class="st">"Pet name post"</span><span class="op">)</span>
<span class="va">ds</span><span class="op">$</span><span class="va">country_pre</span> <span class="op">&lt;-</span> <span class="fu">copyVariable</span><span class="op">(</span><span class="va">ds</span><span class="op">$</span><span class="va">country</span>, deep <span class="op">=</span> <span class="cn">TRUE</span>, name <span class="op">=</span> <span class="st">"Country pre"</span><span class="op">)</span>
<span class="va">ds</span><span class="op">$</span><span class="va">country_post</span> <span class="op">&lt;-</span> <span class="fu">copyVariable</span><span class="op">(</span><span class="va">ds</span><span class="op">$</span><span class="va">country</span>, deep <span class="op">=</span> <span class="cn">TRUE</span>, name <span class="op">=</span> <span class="st">"Country post"</span><span class="op">)</span>

<span class="va">ct</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/recontact_toplines.html">recontact_toplines</a></span><span class="op">(</span>
  <span class="va">ds</span>,
  questions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"q1"</span>, <span class="st">"country"</span><span class="op">)</span>,
  suffixes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"_pre"</span>, <span class="st">"_post"</span><span class="op">)</span>,
  labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Pre"</span>, <span class="st">"Post"</span><span class="op">)</span>,
  weights <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"weight1"</span>, <span class="st">"weight2"</span><span class="op">)</span>
<span class="op">)</span>


<span class="va">theme</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/themeNew.html">themeNew</a></span><span class="op">(</span>default_theme <span class="op">=</span> <span class="fu"><a href="../reference/themeDefaultLatex.html">themeDefaultLatex</a></span><span class="op">(</span><span class="op">)</span>, one_per_sheet <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="fu"><a href="../reference/writeLatex.html">writeLatex</a></span><span class="op">(</span><span class="va">ct</span>, pdf <span class="op">=</span> <span class="cn">TRUE</span>, open <span class="op">=</span> <span class="cn">TRUE</span>, theme <span class="op">=</span> <span class="va">theme</span><span class="op">)</span></code></pre></div>
<div class="figure">
<img src="example-014-recontact_topline.png" alt=""><p class="caption">Recontact Example</p>
</div>
</div>
<div id="flipping-grids" class="section level3">
<h3 class="hasAnchor">
<a href="#flipping-grids" class="anchor"></a>Flipping Grids</h3>
<p>Often the case may be that your category labels are long, and your wave descriptors are very short. In this case, crunchtabs provides optiosn for “flipping grids”. That is to say, there are options you can provide to transpose the presentation so that the wave labels are columns, and the category labels are rows.</p>
<p>To do so globally, we set the <code>latex_flip_gris</code> theme option to <code>TRUE</code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">theme</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/themeNew.html">themeNew</a></span><span class="op">(</span><span class="va">...</span>, latex_flip_grids <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="example-015-recontact-flipped.png" alt="Recontact Example"> In addition to global transposition of grids, we can also do so conditionally.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">theme</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/themeNew.html">themeNew</a></span><span class="op">(</span><span class="va">...</span>, latex_flip_specific_grids <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"q1"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
<div id="tracking-reports" class="section level3">
<h3 class="hasAnchor">
<a href="#tracking-reports" class="anchor"></a>Tracking Reports</h3>
<p>While recontact reports are designed for questions asked in the same dataset, we also have the ability to present questions asked in multiple datasets in a similar fashion.</p>
<p>In the code block below, we illustrate data setup and an example call to <code>tracking_reports</code>. While our example is not prepresentative of a real-life situation, the manner in which you would need to manage data are the same.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create example datasets as waves 1,2 and 3.</span>
<span class="va">ds1</span> <span class="op">&lt;-</span> <span class="fu">newExampleDataset</span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/name.html">name</a></span><span class="op">(</span><span class="va">ds1</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"Example dataset W1"</span>

<span class="va">ds2</span> <span class="op">&lt;-</span> <span class="fu">newExampleDataset</span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/name.html">name</a></span><span class="op">(</span><span class="va">ds2</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"Example dataset W2"</span>

<span class="va">ds3</span> <span class="op">&lt;-</span> <span class="fu">newExampleDataset</span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/name.html">name</a></span><span class="op">(</span><span class="va">ds3</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"Example dataset W3"</span>

<span class="co"># Create weights</span>
<span class="va">ds1</span><span class="op">$</span><span class="va">weight1</span> <span class="op">&lt;-</span> <span class="fu">makeWeight</span><span class="op">(</span><span class="va">ds1</span><span class="op">$</span><span class="va">q1</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.3</span>,<span class="fl">0.3</span>,<span class="fl">0.4</span>,<span class="fl">0</span><span class="op">)</span>, name <span class="op">=</span> <span class="st">'weight1'</span><span class="op">)</span>
<span class="va">ds2</span><span class="op">$</span><span class="va">weight1</span> <span class="op">&lt;-</span> <span class="fu">makeWeight</span><span class="op">(</span><span class="va">ds2</span><span class="op">$</span><span class="va">q1</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.4</span>,<span class="fl">0.4</span>,<span class="fl">0.1</span>,<span class="fl">0.1</span><span class="op">)</span>, name <span class="op">=</span> <span class="st">'weight1'</span><span class="op">)</span>
<span class="va">ds3</span><span class="op">$</span><span class="va">weight1</span> <span class="op">&lt;-</span> <span class="fu">makeWeight</span><span class="op">(</span><span class="va">ds3</span><span class="op">$</span><span class="va">q1</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.2</span>,<span class="fl">0.2</span>,<span class="fl">0.4</span>,<span class="fl">0.2</span><span class="op">)</span>, name <span class="op">=</span> <span class="st">'weight1'</span><span class="op">)</span>

<span class="co"># Ensure each dataset has a weight</span>
<span class="fu">weight</span><span class="op">(</span><span class="va">ds1</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">ds1</span><span class="op">$</span><span class="va">weight1</span>
<span class="fu">weight</span><span class="op">(</span><span class="va">ds2</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">ds2</span><span class="op">$</span><span class="va">weight1</span>
<span class="fu">weight</span><span class="op">(</span><span class="va">ds3</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">ds3</span><span class="op">$</span><span class="va">weight1</span>

<span class="co"># Create a theme</span>
<span class="va">theme</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/themeNew.html">themeNew</a></span><span class="op">(</span>
  default_theme <span class="op">=</span> <span class="fu"><a href="../reference/themeDefaultLatex.html">themeDefaultLatex</a></span><span class="op">(</span><span class="op">)</span>, 
  latex_flip_grids <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span>

<span class="co"># Prepare the data object</span>
<span class="va">ct</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tracking_report.html">tracking_report</a></span><span class="op">(</span>
  dataset_list <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">ds1</span>, <span class="va">ds2</span>, <span class="va">ds3</span><span class="op">)</span>, 
  vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"allpets"</span>, <span class="st">"q1"</span>, <span class="st">"petloc"</span><span class="op">)</span>,
  wave_labels <span class="op">=</span> <span class="cn">NULL</span>
<span class="op">)</span>

<span class="co"># Write to latex and convert to pdf</span>
<span class="fu"><a href="../reference/writeLatex.html">writeLatex</a></span><span class="op">(</span><span class="va">ct</span>, pdf <span class="op">=</span> <span class="cn">TRUE</span>, theme <span class="op">=</span> <span class="va">theme</span><span class="op">)</span></code></pre></div>
<p>There are a number of important elements here:</p>
<ol style="list-style-type: decimal">
<li><p>The order of <code>dataset_list</code> will be the same as their presentation in the resulting PDF. There are no checks to verify their order. Order your dataset from oldest to youngest. Or, if your data are bound by some other element that is not time (like the same survey ran in different localities) consider listing the datasets in alphabetical order.</p></li>
<li><p>The default <code>wave_labels</code> will be presented as Wave 1 through Wave N, where N is the length of the <code>dataset_list</code></p></li>
<li><p>It is strongly recommended that you weight each dataset with the same variable. The <code>weight</code> parameter accepts a character string that should reference a weighting variable in your datasets by its alias. Should you not specify a weight, the system will use the current weighting of each dataset. This can be useful if you have differently named weights across the datasets. But caution should be taken here as there is no way for the system to verify that your desired weight has been applied. As you saw in the example, it’s recommended to assign your weight deliberately.</p></li>
<li><p>Many defaults are extracted from the first dataset in the <code>dataset_list</code>.</p></li>
</ol>
<div class="figure">
<img src="example-016-tracking-report.png" title="Tracking reports" alt=""><p class="caption">Example tracking report</p>
</div>
</div>
<div id="tracking-reports-for-other-stacking-data" class="section level3">
<h3 class="hasAnchor">
<a href="#tracking-reports-for-other-stacking-data" class="anchor"></a>Tracking Reports for Other Stacking Data</h3>
<p>As intimated in the previous section, tracking reports accept any list of datasets. This means they can be used for a variety of situations where one needs to present a number of datasets in a stacked manner. Although called “tracking reports” they support any situation where the same questions are found in a list of datasets.</p>
<p>In the example below, we show a political survey question that was asked in different cities across the United States of America regarding no-knock warrants.</p>
<div class="figure">
<img src="example-017-tracking-report-stacked.png" title="Generic stacked data" alt=""><p class="caption">Generic stacking data</p>
</div>
<p>Although you will not be able to recreate this code locally, below is a recommended approach for aggregating similarly named datasets:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Crunch-io/crunchtabs">crunchtabs</a></span><span class="op">)</span>
<span class="fu">login</span><span class="op">(</span><span class="op">)</span>

<span class="co"># Dataset names tend to have minor variation, in this case it was the place:</span>
<span class="va">places</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sort.html">sort</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"St Louis"</span>, <span class="st">"Memphis"</span>, <span class="st">"Detroit"</span>, <span class="st">"Charlotte"</span>, <span class="st">"Baltimore"</span>, <span class="st">"Birmingham"</span><span class="op">)</span><span class="op">)</span>
<span class="va">ds_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="st">"Campaign Zero %s October 2020"</span>, <span class="va">places</span><span class="op">)</span>
<span class="va">ds_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="va">ds_names</span>, <span class="va">loadDataset</span><span class="op">)</span>

<span class="co"># Specify the variable(s). They must exist in all datasets</span>
<span class="va">vars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"noknock_supop"</span><span class="op">)</span>

<span class="co"># Create the results object</span>
<span class="va">ct</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tracking_report.html">tracking_report</a></span><span class="op">(</span>
  <span class="va">ds_list</span>, wave_label <span class="op">=</span> <span class="va">places</span>, 
  vars <span class="op">=</span> <span class="va">vars</span><span class="op">)</span>

<span class="co"># Write to latex</span>
<span class="fu"><a href="../reference/writeLatex.html">writeLatex</a></span><span class="op">(</span><span class="va">ct</span>, pdf <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
</div>
<div id="including-one-off-questions" class="section level3">
<h3 class="hasAnchor">
<a href="#including-one-off-questions" class="anchor"></a>Including One-off Questions</h3>
<p>While the default behavior of <code>tracking_report</code> and <code>recontact_report</code> is to only include those questions that have been asked more than once, it is often desirable to show questions that have only been asked in a certain wave of your survey or during one phase of your recontact. In both cases, we provide a <code>vars</code> argument, that when provided will identify all of the questions to be presented in the output. Importantly, the order of this <code>vars</code> argument will also match that of the output PDF.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># For recontact_toplines</span>

<span class="co"># The resulting report would show q1 recontact, other alias single, and country recontact</span>
<span class="va">ct</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/recontact_toplines.html">recontact_toplines</a></span><span class="op">(</span>
  <span class="va">ds</span>,
  questions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"q1"</span>, <span class="st">"country"</span><span class="op">)</span>,
  suffixes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"_pre"</span>, <span class="st">"_post"</span><span class="op">)</span>,
  labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Pre"</span>, <span class="st">"Post"</span><span class="op">)</span>,
  weights <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"weight1"</span>, <span class="st">"weight2"</span><span class="op">)</span>,
  vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"q1"</span>, <span class="st">"other_alias"</span>,<span class="st">"country"</span><span class="op">)</span>
<span class="op">)</span>

<span class="co"># For tracking_report</span>

<span class="co"># The resulting report would show allpets tracking, q1 tracking, petloc tracking and alias_available_in_ds3_only</span>
<span class="va">ct</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tracking_report.html">tracking_report</a></span><span class="op">(</span>
  dataset_list <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">ds1</span>, <span class="va">ds2</span>, <span class="va">ds3</span><span class="op">)</span>, 
  vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"allpets"</span>, <span class="st">"q1"</span>, <span class="st">"petloc"</span>, <span class="st">"alias_available_in_ds3_only"</span><span class="op">)</span>,
  wave_labels <span class="op">=</span> <span class="cn">NULL</span>
<span class="op">)</span></code></pre></div>
</div>
<div id="relabeling-or-repositioning-categories-or-responses" class="section level3">
<h3 class="hasAnchor">
<a href="#relabeling-or-repositioning-categories-or-responses" class="anchor"></a>Relabeling or Repositioning Categories or Responses</h3>
<p>There are a number of situations where your category names in a multiple response or categorical array question may be too long for reasonable presentation. Flipping grids is a good option, however, this may not be desirable or possible due to the number of waves or datasets that you are working with. For these cases, we offer the ability to relabel your responses or to reposition them.</p>
<div id="relabeling" class="section level4">
<h4 class="hasAnchor">
<a href="#relabeling" class="anchor"></a>Relabeling</h4>
<p>This renaming happens just before printing to latex, that means you can create customizations for other defaults using this command. It’s important to recognize that this will overwrite both labels and subvariable names. If you define it appropriately, it will rename it. This includes wave names, category labels or multiple response statements.</p>
<p>In the example below, “x” and “a” are the labels you wish to rename and “y” and “b” are the resulting labels.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ct</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/recontact_toplines.html">recontact_toplines</a></span><span class="op">(</span>
  <span class="va">...</span>,
  relabel <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
    alias_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"x"</span><span class="op">=</span><span class="st">"y"</span>, <span class="va">...</span><span class="op">)</span>, 
    other_alias <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span><span class="op">=</span><span class="st">"b"</span><span class="op">)</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
</div>
<div id="repositioning" class="section level4">
<h4 class="hasAnchor">
<a href="#repositioning" class="anchor"></a>Repositioning</h4>
<p>Specify a list of variables that you either specify as “above” or “below” your frequency table. “above”, places the column labels above the frequency table but below the question text (the crunch description) in a letter denominated bulleted list (A, B, C, …) by default the column labels are equivalent to the letters. If you specify <code>col_labels</code> it will use this labels instead of letters. “below”, places the listing below the frequency table.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Relabel</span>

<span class="va">ct</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/recontact_toplines.html">recontact_toplines</a></span><span class="op">(</span>
  <span class="va">...</span>,
  reposition <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
    alias_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
      postiion<span class="op">=</span><span class="st">"above"</span>, 
      col_labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">...</span><span class="op">)</span><span class="op">)</span>,
    other_alias <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
      position<span class="op">=</span><span class="st">"below"</span>,
      col_labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">...</span><span class="op">)</span>
    <span class="op">)</span>
  <span class="op">)</span>
<span class="op">)</span></code></pre></div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Persephone Tsebelis, Kamil Sedrowicz, Neal Richardson, Brandon Bertelsen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
